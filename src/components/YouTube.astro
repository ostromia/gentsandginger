---
import thumbnail from "~assets/thosewerethedays.jpg";
---

<script>
    import Hls from "hls.js";

    document.addEventListener("DOMContentLoaded", () => {
        const video = document.getElementById("thosewerethedays") as HTMLVideoElement;
        const src = "/thosewerethedays/playlist.m3u8";

        if (Hls.isSupported()) {
            const hls = new Hls();
            hls.loadSource(src);
            hls.attachMedia(video);
        } else if (video.canPlayType("application/vnd.apple.mpegurl")) {
            video.src = src;
        }
    });
</script>

<div>
    <video controls id="thosewerethedays" poster={thumbnail.src}></video>
</div>

<style lang="scss">
    div {
        border-radius: 10px;
        overflow: hidden;
    }

    video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        aspect-ratio: 4 / 3;
        border: 0;
        display: block;
    }
</style>
