---
import logo from "~assets/logo.svg";
import hamburger from "~assets/icons/hamburger.svg";
import x from "~assets/icons/x.svg";

import { default as Facebook } from "~assets/icons/facebook.svg";
import { default as Instagram } from "~assets/icons/instagram.svg";
import { default as Tiktok } from "~assets/icons/tiktok.svg";
import { default as YouTube } from "~assets/icons/youtube.svg";
import { default as Spotify } from "~assets/icons/spotify.svg";
import { default as AppleMusic } from "~assets/icons/applemusic.svg";

interface Props {
    style?: string;
}

const { style } = Astro.props;
---

<script>
    window.addEventListener("DOMContentLoaded", () => {
        document.getElementById("button")!.addEventListener("click", function () {
            for (const icon of this.children) {
                icon.classList.toggle("hidden");
            }

            document.querySelector("nav")!.classList.toggle("mobile-menu-open");
            document.getElementById("links")!.classList.toggle("mobile-menu-open");

            document.body.classList.toggle("overflow-hidden");
            document.documentElement.classList.toggle("overflow-hidden");
        });
    });
</script>

<nav style={style}>
    <button id="button" class="mobile">
        <img alt="hamburger" src={hamburger.src} />
        <img alt="x" class="hidden" src={x.src} />
    </button>

    <div id="links">
        <a class="mobile" href="/gentsandginger/">Home</a>
        <a href="/gentsandginger/events/">Events</a>
        <a href="/gentsandginger/merchandise/">Merchandise</a>
        <a href="/gentsandginger/about/">About</a>
        <a href="/gentsandginger/contact/">Contact</a>
    </div>

    <a id="logo" href="/gentsandginger/">
        <img alt="" src={logo.src} />
    </a>

    <div id="social-media" class="desktop">
        <a href="https://www.facebook.com/gentsandginger" aria-label="Instagram" target="_blank">
            <Facebook class="icon" />
        </a>

        <a href="https://www.instagram.com/gentsandginger/" aria-label="Instagram" target="_blank">
            <Instagram class="icon" />
        </a>

        <a href="https://www.tiktok.com/@gentsandginger" aria-label="Instagram" target="_blank">
            <Tiktok class="icon" />
        </a>

        <a href="https://www.youtube.com/@gentsginger5174" aria-label="YouTube" target="_blank">
            <YouTube class="icon" />
        </a>

        <a href="https://open.spotify.com/artist/7jIpsmRlZWQbKMjbxVeJ5M?si=0scp_nZNS2KHEGRTYOtZmw" aria-label="Spotify" target="_blank">
            <Spotify class="icon" />
        </a>

        <a href="https://music.apple.com/gb/artist/gents-ginger/1765128507" aria-label="Apple Music" target="_blank">
            <AppleMusic class="icon" />
        </a>
    </div>
</nav>

<style lang="scss">
    @use "~styles/fonts";
    @use "~styles/mia";
    @use "~styles/riko";
    @use "~styles/color";
    @use "~styles/adam";

    nav {
        @include adam.navigation;

        @include fonts.reeniebeanie;
        font-size: 2rem;

        padding: 1rem 2rem;
        box-sizing: border-box;

        width: 100%;
    }

    a {
        color: color.$orange;
        text-decoration: none;
    }

    #button {
        @include mia.resetButton;
        color: color.$orange;

        img {
            height: 2rem;
            width: 2rem;
        }
    }

    #logo {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1rem;

        img {
            max-height: 75px;
            max-width: 100%;
        }
    }

    .icon {
        fill: color.$orange;
    }

    @media (min-width: riko.$desktop) {
        nav {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
        }

        nav > div {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        #links {
            justify-content: start;
        }

        #social-media {
            justify-content: end;
        }
    }

    @media (max-width: riko.$mobile) {
        nav {
            display: grid;
            grid-template-areas:
                "button logo"
                "links links";
            grid-template-columns: auto 1fr;
            grid-template-rows: auto 1fr;
        }

        #button {
            grid-area: button;
        }

        #logo {
            grid-area: logo;
        }

        #links {
            grid-area: links;
        }

        nav.mobile-menu-open {
            display: grid;
            grid-template-rows: auto 1fr;
            height: 100svh;
            background-color: color.$eggshell;

            padding-bottom: calc(2rem + 75px);
        }

        #links.mobile-menu-open {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        #links {
            display: none;
        }
    }
</style>
